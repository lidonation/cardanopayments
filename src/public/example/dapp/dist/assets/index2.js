import{c as Q}from"./__vite-browser-external.js";import{_ as Uo}from"./index.js";import{c as Yr,r as Xr}from"./___vite-browser-external_commonjs-proxy.js";function Lo(f){if(!/^data:/i.test(f))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');f=f.replace(/\r?\n/g,"");const a=f.indexOf(",");if(a===-1||a<=4)throw new TypeError("malformed data: URI");const u=f.substring(5,a).split(";");let c="",p=!1;const _=u[0]||"text/plain";let w=_;for(let q=1;q<u.length;q++)u[q]==="base64"?p=!0:(w+=`;${u[q]}`,u[q].indexOf("charset=")===0&&(c=u[q].substring(8)));!u[0]&&!c.length&&(w+=";charset=US-ASCII",c="US-ASCII");const d=p?"base64":"ascii",I=unescape(f.substring(a+1)),T=Buffer.from(I,d);return T.type=_,T.typeFull=w,T.charset=c,T}var pr={exports:{}},ri;function zo(){return ri||(ri=1,function(f,a){(function(u,c){c(a)})(Yr,function(u){const c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function p(){}function _(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Yr<"u")return Yr}const w=_();function d(e){return typeof e=="object"&&e!==null||typeof e=="function"}const I=p,T=Promise,q=Promise.prototype.then,$=Promise.resolve.bind(T),N=Promise.reject.bind(T);function B(e){return new T(e)}function S(e){return $(e)}function E(e){return N(e)}function P(e,t,i){return q.call(e,t,i)}function k(e,t,i){P(P(e,t,i),void 0,I)}function M(e,t){k(e,t)}function G(e,t){k(e,void 0,t)}function D(e,t,i){return P(e,t,i)}function W(e){P(e,void 0,I)}const Z=(()=>{const e=w&&w.queueMicrotask;if(typeof e=="function")return e;const t=S(void 0);return i=>P(t,i)})();function we(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function he(e,t,i){try{return S(we(e,t,i))}catch(l){return E(l)}}const Ft=16384;class ue{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const i=this._back;let l=i;i._elements.length===Ft-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){const t=this._front;let i=t;const l=this._cursor;let m=l+1;const g=t._elements,R=g[l];return m===Ft&&(i=t._next,m=0),--this._size,this._cursor=m,t!==i&&(this._front=i),g[l]=void 0,R}forEach(t){let i=this._cursor,l=this._front,m=l._elements;for(;(i!==m.length||l._next!==void 0)&&!(i===m.length&&(l=l._next,m=l._elements,i=0,m.length===0));)t(m[i]),++i}peek(){const t=this._front,i=this._cursor;return t._elements[i]}}function xt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?He(e):t._state==="closed"?Sr(e):kt(e,t._storedError)}function st(e,t){const i=e._ownerReadableStream;return ye(i,t)}function pe(e){e._ownerReadableStream._state==="readable"?ut(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Rr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ee(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function He(e){e._closedPromise=B((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function kt(e,t){He(e),ut(e,t)}function Sr(e){He(e),Wt(e)}function ut(e,t){e._closedPromise_reject!==void 0&&(W(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Rr(e,t){kt(e,t)}function Wt(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const J=c("[[AbortSteps]]"),ee=c("[[ErrorSteps]]"),Ve=c("[[CancelSteps]]"),Ye=c("[[PullSteps]]"),lt=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},vt=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function qt(e){return typeof e=="object"||typeof e=="function"}function re(e,t){if(e!==void 0&&!qt(e))throw new TypeError(`${t} is not an object.`)}function ne(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function Ot(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Ut(e,t){if(!Ot(e))throw new TypeError(`${t} is not an object.`)}function ce(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function _e(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function Be(e){return Number(e)}function Lt(e){return e===0?0:e}function Er(e){return Lt(vt(e))}function Qe(e,t){const l=Number.MAX_SAFE_INTEGER;let m=Number(e);if(m=Lt(m),!lt(m))throw new TypeError(`${t} is not a finite number`);if(m=Er(m),m<0||m>l)throw new TypeError(`${t} is outside the accepted range of ${0} to ${l}, inclusive`);return!lt(m)||m===0?0:m}function ft(e,t){if(!We(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Pe(e){return new Oe(e)}function ct(e,t){e._reader._readRequests.push(t)}function Ie(e,t,i){const m=e._reader._readRequests.shift();i?m._closeSteps():m._chunkSteps(t)}function ie(e){return e._reader._readRequests.length}function Ge(e){const t=e._reader;return!(t===void 0||!te(t))}class Oe{constructor(t){if(ce(t,1,"ReadableStreamDefaultReader"),ft(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");xt(this,t),this._readRequests=new ue}get closed(){return te(this)?this._closedPromise:E(o("closed"))}cancel(t=void 0){return te(this)?this._ownerReadableStream===void 0?E(Ee("cancel")):st(this,t):E(o("cancel"))}read(){if(!te(this))return E(o("read"));if(this._ownerReadableStream===void 0)return E(Ee("read from"));let t,i;const l=B((g,R)=>{t=g,i=R});return Ue(this,{_chunkSteps:g=>t({value:g,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:g=>i(g)}),l}releaseLock(){if(!te(this))throw o("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(Oe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(Oe.prototype,c.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function te(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Oe}function Ue(e,t){const i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[Ye](t)}function o(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}const r=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class n{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?D(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const i=()=>this._returnSteps(t);return this._ongoingPromise?D(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;if(t._ownerReadableStream===void 0)return E(Ee("iterate"));let i,l;const m=B((R,C)=>{i=R,l=C});return Ue(t,{_chunkSteps:R=>{this._ongoingPromise=void 0,Z(()=>i({value:R,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),i({value:void 0,done:!0})},_errorSteps:R=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),l(R)}}),m}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const i=this._reader;if(i._ownerReadableStream===void 0)return E(Ee("finish iterating"));if(!this._preventCancel){const l=st(i,t);return pe(i),D(l,()=>({value:t,done:!0}))}return pe(i),S({value:t,done:!0})}}const s={next(){return y(this)?this._asyncIteratorImpl.next():E(b("next"))},return(e){return y(this)?this._asyncIteratorImpl.return(e):E(b("return"))}};r!==void 0&&Object.setPrototypeOf(s,r);function h(e,t){const i=Pe(e),l=new n(i,t),m=Object.create(s);return m._asyncIteratorImpl=l,m}function y(e){if(!d(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof n}catch{return!1}}function b(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}const F=Number.isNaN||function(e){return e!==e};function j(e){return e.slice()}function H(e,t,i,l,m){new Uint8Array(e).set(new Uint8Array(i,l,m),t)}function Y(e){return e}function U(e){return!1}function on(e,t,i){if(e.slice)return e.slice(t,i);const l=i-t,m=new ArrayBuffer(l);return H(m,0,e,t,l),m}function gi(e){return!(typeof e!="number"||F(e)||e<0)}function an(e){const t=on(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Br(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Cr(e,t,i){if(!gi(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function wi(e){return e._queue.peek().value}function Fe(e){e._queue=new ue,e._queueTotalSize=0}class dt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Tr(this))throw Fr("view");return this._view}respond(t){if(!Tr(this))throw Fr("respond");if(ce(t,1,"respond"),t=Qe(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");U(this._view.buffer),jt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Tr(this))throw Fr("respondWithNewView");if(ce(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");U(t.buffer),Nt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(dt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(dt.prototype,c.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Je{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Le(this))throw pt("byobRequest");return Ir(this)}get desiredSize(){if(!Le(this))throw pt("desiredSize");return pn(this)}close(){if(!Le(this))throw pt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);ht(this)}enqueue(t){if(!Le(this))throw pt("enqueue");if(ce(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);Mt(this,t)}error(t=void 0){if(!Le(this))throw pt("error");me(this,t)}[Ve](t){sn(this),Fe(this);const i=this._cancelAlgorithm(t);return $t(this),i}[Ye](t){const i=this._controlledReadableByteStream;if(this._queueTotalSize>0){const m=this._queue.shift();this._queueTotalSize-=m.byteLength,cn(this);const g=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);t._chunkSteps(g);return}const l=this._autoAllocateChunkSize;if(l!==void 0){let m;try{m=new ArrayBuffer(l)}catch(R){t._errorSteps(R);return}const g={buffer:m,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(g)}ct(i,t),ze(this)}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,c.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Le(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Je}function Tr(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof dt}function ze(e){if(!Ei(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;const i=e._pullAlgorithm();k(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ze(e))},l=>{me(e,l)})}function sn(e){Pr(e),e._pendingPullIntos=new ue}function Ar(e,t){let i=!1;e._state==="closed"&&(i=!0);const l=un(t);t.readerType==="default"?Ie(e,l,i):Ti(e,l,i)}function un(e){const t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function zt(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function ln(e,t){const i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,m=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),g=t.bytesFilled+m,R=g-g%i;let C=m,x=!1;R>l&&(C=R-t.bytesFilled,x=!0);const O=e._queue;for(;C>0;){const L=O.peek(),z=Math.min(C,L.byteLength),X=t.byteOffset+t.bytesFilled;H(t.buffer,X,L.buffer,L.byteOffset,z),L.byteLength===z?O.shift():(L.byteOffset+=z,L.byteLength-=z),e._queueTotalSize-=z,fn(e,z,t),C-=z}return x}function fn(e,t,i){i.bytesFilled+=t}function cn(e){e._queueTotalSize===0&&e._closeRequested?($t(e),Rt(e._controlledReadableByteStream)):ze(e)}function Pr(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function dn(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;const t=e._pendingPullIntos.peek();ln(e,t)&&(Dt(e),Ar(e._controlledReadableByteStream,t))}}function _i(e,t,i){const l=e._controlledReadableByteStream;let m=1;t.constructor!==DataView&&(m=t.constructor.BYTES_PER_ELEMENT);const g=t.constructor,R=t.buffer,C={buffer:R,bufferByteLength:R.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:m,viewConstructor:g,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(C),bn(l,i);return}if(l._state==="closed"){const x=new g(C.buffer,C.byteOffset,0);i._closeSteps(x);return}if(e._queueTotalSize>0){if(ln(e,C)){const x=un(C);cn(e),i._chunkSteps(x);return}if(e._closeRequested){const x=new TypeError("Insufficient bytes to fill elements in the given buffer");me(e,x),i._errorSteps(x);return}}e._pendingPullIntos.push(C),bn(l,i),ze(e)}function Si(e,t){const i=e._controlledReadableByteStream;if(xr(i))for(;gn(i)>0;){const l=Dt(e);Ar(i,l)}}function Ri(e,t,i){if(fn(e,t,i),i.bytesFilled<i.elementSize)return;Dt(e);const l=i.bytesFilled%i.elementSize;if(l>0){const m=i.byteOffset+i.bytesFilled,g=on(i.buffer,m-l,m);zt(e,g,0,g.byteLength)}i.bytesFilled-=l,Ar(e._controlledReadableByteStream,i),dn(e)}function hn(e,t){const i=e._pendingPullIntos.peek();Pr(e),e._controlledReadableByteStream._state==="closed"?Si(e):Ri(e,t,i),ze(e)}function Dt(e){return e._pendingPullIntos.shift()}function Ei(e){const t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Ge(t)&&ie(t)>0||xr(t)&&gn(t)>0||pn(e)>0)}function $t(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ht(e){const t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw me(e,l),l}$t(e),Rt(t)}}function Mt(e,t){const i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;const l=t.buffer,m=t.byteOffset,g=t.byteLength,R=l;if(e._pendingPullIntos.length>0){const C=e._pendingPullIntos.peek();U(C.buffer),C.buffer=C.buffer}if(Pr(e),Ge(i))if(ie(i)===0)zt(e,R,m,g);else{e._pendingPullIntos.length>0&&Dt(e);const C=new Uint8Array(R,m,g);Ie(i,C,!1)}else xr(i)?(zt(e,R,m,g),dn(e)):zt(e,R,m,g);ze(e)}function me(e,t){const i=e._controlledReadableByteStream;i._state==="readable"&&(sn(e),Fe(e),$t(e),Mn(i,t))}function Ir(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(dt.prototype);Ci(l,e,i),e._byobRequest=l}return e._byobRequest}function pn(e){const t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function jt(e,t){const i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,hn(e,t)}function Nt(e,t){const i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const m=t.byteLength;i.buffer=t.buffer,hn(e,m)}function mn(e,t,i,l,m,g,R){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=g,t._pullAlgorithm=l,t._cancelAlgorithm=m,t._autoAllocateChunkSize=R,t._pendingPullIntos=new ue,e._readableStreamController=t;const C=i();k(S(C),()=>{t._started=!0,ze(t)},x=>{me(t,x)})}function Bi(e,t,i){const l=Object.create(Je.prototype);let m=()=>{},g=()=>S(void 0),R=()=>S(void 0);t.start!==void 0&&(m=()=>t.start(l)),t.pull!==void 0&&(g=()=>t.pull(l)),t.cancel!==void 0&&(R=x=>t.cancel(x));const C=t.autoAllocateChunkSize;if(C===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");mn(e,l,m,g,R,i,C)}function Ci(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function Fr(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function pt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function yn(e){return new mt(e)}function bn(e,t){e._reader._readIntoRequests.push(t)}function Ti(e,t,i){const m=e._reader._readIntoRequests.shift();i?m._closeSteps(t):m._chunkSteps(t)}function gn(e){return e._reader._readIntoRequests.length}function xr(e){const t=e._reader;return!(t===void 0||!De(t))}class mt{constructor(t){if(ce(t,1,"ReadableStreamBYOBReader"),ft(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Le(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");xt(this,t),this._readIntoRequests=new ue}get closed(){return De(this)?this._closedPromise:E(Ht("closed"))}cancel(t=void 0){return De(this)?this._ownerReadableStream===void 0?E(Ee("cancel")):st(this,t):E(Ht("cancel"))}read(t){if(!De(this))return E(Ht("read"));if(!ArrayBuffer.isView(t))return E(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return E(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return E(new TypeError("view's buffer must have non-zero byteLength"));if(U(t.buffer),this._ownerReadableStream===void 0)return E(Ee("read from"));let i,l;const m=B((R,C)=>{i=R,l=C});return wn(this,t,{_chunkSteps:R=>i({value:R,done:!1}),_closeSteps:R=>i({value:R,done:!0}),_errorSteps:R=>l(R)}),m}releaseLock(){if(!De(this))throw Ht("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,c.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function De(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof mt}function wn(e,t,i){const l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):_i(l._readableStreamController,t,i)}function Ht(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function yt(e,t){const{highWaterMark:i}=e;if(i===void 0)return t;if(F(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Vt(e){const{size:t}=e;return t||(()=>1)}function Yt(e,t){re(e,t);const i=e?.highWaterMark,l=e?.size;return{highWaterMark:i===void 0?void 0:Be(i),size:l===void 0?void 0:Ai(l,`${t} has member 'size' that`)}}function Ai(e,t){return ne(e,t),i=>Be(e(i))}function Pi(e,t){re(e,t);const i=e?.abort,l=e?.close,m=e?.start,g=e?.type,R=e?.write;return{abort:i===void 0?void 0:Ii(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:Fi(l,e,`${t} has member 'close' that`),start:m===void 0?void 0:xi(m,e,`${t} has member 'start' that`),write:R===void 0?void 0:ki(R,e,`${t} has member 'write' that`),type:g}}function Ii(e,t,i){return ne(e,i),l=>he(e,t,[l])}function Fi(e,t,i){return ne(e,i),()=>he(e,t,[])}function xi(e,t,i){return ne(e,i),l=>we(e,t,[l])}function ki(e,t,i){return ne(e,i),(l,m)=>he(e,t,[l,m])}function _n(e,t){if(!Ze(e))throw new TypeError(`${t} is not a WritableStream.`)}function Wi(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}const vi=typeof AbortController=="function";function qi(){if(vi)return new AbortController}class bt{constructor(t={},i={}){t===void 0?t=null:Ut(t,"First parameter");const l=Yt(i,"Second parameter"),m=Pi(t,"First parameter");if(Rn(this),m.type!==void 0)throw new RangeError("Invalid type is specified");const R=Vt(l),C=yt(l,1);Gi(this,m,C,R)}get locked(){if(!Ze(this))throw Xt("locked");return Xe(this)}abort(t=void 0){return Ze(this)?Xe(this)?E(new TypeError("Cannot abort a stream that already has a writer")):Qt(this,t):E(Xt("abort"))}close(){return Ze(this)?Xe(this)?E(new TypeError("Cannot close a stream that already has a writer")):Se(this)?E(new TypeError("Cannot close an already-closing stream")):En(this):E(Xt("close"))}getWriter(){if(!Ze(this))throw Xt("getWriter");return Sn(this)}}Object.defineProperties(bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,c.toStringTag,{value:"WritableStream",configurable:!0});function Sn(e){return new gt(e)}function Oi(e,t,i,l,m=1,g=()=>1){const R=Object.create(bt.prototype);Rn(R);const C=Object.create(Ke.prototype);return In(R,C,e,t,i,l,m,g),R}function Rn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new ue,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ze(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof bt}function Xe(e){return e._writer!==void 0}function Qt(e,t){var i;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();const l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let m=!1;l==="erroring"&&(m=!0,t=void 0);const g=B((R,C)=>{e._pendingAbortRequest={_promise:void 0,_resolve:R,_reject:C,_reason:t,_wasAlreadyErroring:m}});return e._pendingAbortRequest._promise=g,m||Wr(e,t),g}function En(e){const t=e._state;if(t==="closed"||t==="errored")return E(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const i=B((m,g)=>{const R={_resolve:m,_reject:g};e._closeRequest=R}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&Mr(l),Ji(e._writableStreamController),i}function Ui(e){return B((i,l)=>{const m={_resolve:i,_reject:l};e._writeRequests.push(m)})}function kr(e,t){if(e._state==="writable"){Wr(e,t);return}vr(e)}function Wr(e,t){const i=e._writableStreamController;e._state="erroring",e._storedError=t;const l=e._writer;l!==void 0&&Cn(l,t),!Mi(e)&&i._started&&vr(e)}function vr(e){e._state="errored",e._writableStreamController[ee]();const t=e._storedError;if(e._writeRequests.forEach(m=>{m._reject(t)}),e._writeRequests=new ue,e._pendingAbortRequest===void 0){Gt(e);return}const i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),Gt(e);return}const l=e._writableStreamController[J](i._reason);k(l,()=>{i._resolve(),Gt(e)},m=>{i._reject(m),Gt(e)})}function Li(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function zi(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,kr(e,t)}function Di(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const i=e._writer;i!==void 0&&Wn(i)}function $i(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),kr(e,t)}function Se(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Mi(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ji(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ni(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Gt(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;t!==void 0&&Dr(t,e._storedError)}function qr(e,t){const i=e._writer;i!==void 0&&t!==e._backpressure&&(t?no(i):Mr(i)),e._backpressure=t}class gt{constructor(t){if(ce(t,1,"WritableStreamDefaultWriter"),_n(t,"First parameter"),Xe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const i=t._state;if(i==="writable")!Se(t)&&t._backpressure?er(this):vn(this),Kt(this);else if(i==="erroring")$r(this,t._storedError),Kt(this);else if(i==="closed")vn(this),to(this);else{const l=t._storedError;$r(this,l),kn(this,l)}}get closed(){return $e(this)?this._closedPromise:E(Me("closed"))}get desiredSize(){if(!$e(this))throw Me("desiredSize");if(this._ownerWritableStream===void 0)throw wt("desiredSize");return Qi(this)}get ready(){return $e(this)?this._readyPromise:E(Me("ready"))}abort(t=void 0){return $e(this)?this._ownerWritableStream===void 0?E(wt("abort")):Hi(this,t):E(Me("abort"))}close(){if(!$e(this))return E(Me("close"));const t=this._ownerWritableStream;return t===void 0?E(wt("close")):Se(t)?E(new TypeError("Cannot close an already-closing stream")):Bn(this)}releaseLock(){if(!$e(this))throw Me("releaseLock");this._ownerWritableStream!==void 0&&Tn(this)}write(t=void 0){return $e(this)?this._ownerWritableStream===void 0?E(wt("write to")):An(this,t):E(Me("write"))}}Object.defineProperties(gt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(gt.prototype,c.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function $e(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof gt}function Hi(e,t){const i=e._ownerWritableStream;return Qt(i,t)}function Bn(e){const t=e._ownerWritableStream;return En(t)}function Vi(e){const t=e._ownerWritableStream,i=t._state;return Se(t)||i==="closed"?S(void 0):i==="errored"?E(t._storedError):Bn(e)}function Yi(e,t){e._closedPromiseState==="pending"?Dr(e,t):ro(e,t)}function Cn(e,t){e._readyPromiseState==="pending"?qn(e,t):io(e,t)}function Qi(e){const t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Fn(t._writableStreamController)}function Tn(e){const t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Cn(e,i),Yi(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function An(e,t){const i=e._ownerWritableStream,l=i._writableStreamController,m=Zi(l,t);if(i!==e._ownerWritableStream)return E(wt("write to"));const g=i._state;if(g==="errored")return E(i._storedError);if(Se(i)||g==="closed")return E(new TypeError("The stream is closing or closed and cannot be written to"));if(g==="erroring")return E(i._storedError);const R=Ui(i);return Xi(l,t,m),R}const Pn={};class Ke{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Or(this))throw zr("abortReason");return this._abortReason}get signal(){if(!Or(this))throw zr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Or(this))throw zr("error");this._controlledWritableStream._state==="writable"&&xn(this,t)}[J](t){const i=this._abortAlgorithm(t);return Jt(this),i}[ee](){Fe(this)}}Object.defineProperties(Ke.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,c.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Or(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Ke}function In(e,t,i,l,m,g,R,C){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Fe(t),t._abortReason=void 0,t._abortController=qi(),t._started=!1,t._strategySizeAlgorithm=C,t._strategyHWM=R,t._writeAlgorithm=l,t._closeAlgorithm=m,t._abortAlgorithm=g;const x=Lr(t);qr(e,x);const O=i(),L=S(O);k(L,()=>{t._started=!0,Zt(t)},z=>{t._started=!0,kr(e,z)})}function Gi(e,t,i,l){const m=Object.create(Ke.prototype);let g=()=>{},R=()=>S(void 0),C=()=>S(void 0),x=()=>S(void 0);t.start!==void 0&&(g=()=>t.start(m)),t.write!==void 0&&(R=O=>t.write(O,m)),t.close!==void 0&&(C=()=>t.close()),t.abort!==void 0&&(x=O=>t.abort(O)),In(e,m,g,R,C,x,i,l)}function Jt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ji(e){Cr(e,Pn,0),Zt(e)}function Zi(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return Ur(e,i),1}}function Fn(e){return e._strategyHWM-e._queueTotalSize}function Xi(e,t,i){try{Cr(e,t,i)}catch(m){Ur(e,m);return}const l=e._controlledWritableStream;if(!Se(l)&&l._state==="writable"){const m=Lr(e);qr(l,m)}Zt(e)}function Zt(e){const t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){vr(t);return}if(e._queue.length===0)return;const l=wi(e);l===Pn?Ki(e):eo(e,l)}function Ur(e,t){e._controlledWritableStream._state==="writable"&&xn(e,t)}function Ki(e){const t=e._controlledWritableStream;ji(t),Br(e);const i=e._closeAlgorithm();Jt(e),k(i,()=>{Di(t)},l=>{$i(t,l)})}function eo(e,t){const i=e._controlledWritableStream;Ni(i);const l=e._writeAlgorithm(t);k(l,()=>{Li(i);const m=i._state;if(Br(e),!Se(i)&&m==="writable"){const g=Lr(e);qr(i,g)}Zt(e)},m=>{i._state==="writable"&&Jt(e),zi(i,m)})}function Lr(e){return Fn(e)<=0}function xn(e,t){const i=e._controlledWritableStream;Jt(e),Wr(i,t)}function Xt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function zr(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Me(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function wt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Kt(e){e._closedPromise=B((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function kn(e,t){Kt(e),Dr(e,t)}function to(e){Kt(e),Wn(e)}function Dr(e,t){e._closedPromise_reject!==void 0&&(W(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ro(e,t){kn(e,t)}function Wn(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function er(e){e._readyPromise=B((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function $r(e,t){er(e),qn(e,t)}function vn(e){er(e),Mr(e)}function qn(e,t){e._readyPromise_reject!==void 0&&(W(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function no(e){er(e)}function io(e,t){$r(e,t)}function Mr(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}const On=typeof DOMException<"u"?DOMException:void 0;function oo(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function ao(){const e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}const so=oo(On)?On:ao();function Un(e,t,i,l,m,g){const R=Pe(e),C=Sn(t);e._disturbed=!0;let x=!1,O=S(void 0);return B((L,z)=>{let X;if(g!==void 0){if(X=()=>{const A=new so("Aborted","AbortError"),v=[];l||v.push(()=>t._state==="writable"?Qt(t,A):S(void 0)),m||v.push(()=>e._state==="readable"?ye(e,A):S(void 0)),ae(()=>Promise.all(v.map(V=>V())),!0,A)},g.aborted){X();return}g.addEventListener("abort",X)}function be(){return B((A,v)=>{function V(le){le?A():P(rt(),V,v)}V(!1)})}function rt(){return x?S(!0):P(C._readyPromise,()=>B((A,v)=>{Ue(R,{_chunkSteps:V=>{O=P(An(C,V),void 0,p),A(!1)},_closeSteps:()=>A(!0),_errorSteps:v})}))}if(Ce(e,R._closedPromise,A=>{l?de(!0,A):ae(()=>Qt(t,A),!0,A)}),Ce(t,C._closedPromise,A=>{m?de(!0,A):ae(()=>ye(e,A),!0,A)}),oe(e,R._closedPromise,()=>{i?de():ae(()=>Vi(C))}),Se(t)||t._state==="closed"){const A=new TypeError("the destination writable stream closed before all data could be piped to it");m?de(!0,A):ae(()=>ye(e,A),!0,A)}W(be());function qe(){const A=O;return P(O,()=>A!==O?qe():void 0)}function Ce(A,v,V){A._state==="errored"?V(A._storedError):G(v,V)}function oe(A,v,V){A._state==="closed"?V():M(v,V)}function ae(A,v,V){if(x)return;x=!0,t._state==="writable"&&!Se(t)?M(qe(),le):le();function le(){k(A(),()=>Te(v,V),nt=>Te(!0,nt))}}function de(A,v){x||(x=!0,t._state==="writable"&&!Se(t)?M(qe(),()=>Te(A,v)):Te(A,v))}function Te(A,v){Tn(C),pe(R),g!==void 0&&g.removeEventListener("abort",X),A?z(v):L(void 0)}})}class et{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!tr(this))throw ir("desiredSize");return jr(this)}close(){if(!tr(this))throw ir("close");if(!tt(this))throw new TypeError("The stream is not in a state that permits close");St(this)}enqueue(t=void 0){if(!tr(this))throw ir("enqueue");if(!tt(this))throw new TypeError("The stream is not in a state that permits enqueue");return nr(this,t)}error(t=void 0){if(!tr(this))throw ir("error");xe(this,t)}[Ve](t){Fe(this);const i=this._cancelAlgorithm(t);return rr(this),i}[Ye](t){const i=this._controlledReadableStream;if(this._queue.length>0){const l=Br(this);this._closeRequested&&this._queue.length===0?(rr(this),Rt(i)):_t(this),t._chunkSteps(l)}else ct(i,t),_t(this)}}Object.defineProperties(et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(et.prototype,c.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function tr(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof et}function _t(e){if(!Ln(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;const i=e._pullAlgorithm();k(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,_t(e))},l=>{xe(e,l)})}function Ln(e){const t=e._controlledReadableStream;return!tt(e)||!e._started?!1:!!(ve(t)&&ie(t)>0||jr(e)>0)}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function St(e){if(!tt(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(rr(e),Rt(t))}function nr(e,t){if(!tt(e))return;const i=e._controlledReadableStream;if(ve(i)&&ie(i)>0)Ie(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(m){throw xe(e,m),m}try{Cr(e,t,l)}catch(m){throw xe(e,m),m}}_t(e)}function xe(e,t){const i=e._controlledReadableStream;i._state==="readable"&&(Fe(e),rr(e),Mn(i,t))}function jr(e){const t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function uo(e){return!Ln(e)}function tt(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function zn(e,t,i,l,m,g,R){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=R,t._strategyHWM=g,t._pullAlgorithm=l,t._cancelAlgorithm=m,e._readableStreamController=t;const C=i();k(S(C),()=>{t._started=!0,_t(t)},x=>{xe(t,x)})}function lo(e,t,i,l){const m=Object.create(et.prototype);let g=()=>{},R=()=>S(void 0),C=()=>S(void 0);t.start!==void 0&&(g=()=>t.start(m)),t.pull!==void 0&&(R=()=>t.pull(m)),t.cancel!==void 0&&(C=x=>t.cancel(x)),zn(e,m,g,R,C,i,l)}function ir(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function fo(e,t){return Le(e._readableStreamController)?ho(e):co(e)}function co(e,t){const i=Pe(e);let l=!1,m=!1,g=!1,R=!1,C,x,O,L,z;const X=B(oe=>{z=oe});function be(){return l?(m=!0,S(void 0)):(l=!0,Ue(i,{_chunkSteps:ae=>{Z(()=>{m=!1;const de=ae,Te=ae;g||nr(O._readableStreamController,de),R||nr(L._readableStreamController,Te),l=!1,m&&be()})},_closeSteps:()=>{l=!1,g||St(O._readableStreamController),R||St(L._readableStreamController),(!g||!R)&&z(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function rt(oe){if(g=!0,C=oe,R){const ae=j([C,x]),de=ye(e,ae);z(de)}return X}function qe(oe){if(R=!0,x=oe,g){const ae=j([C,x]),de=ye(e,ae);z(de)}return X}function Ce(){}return O=Nr(Ce,be,rt),L=Nr(Ce,be,qe),G(i._closedPromise,oe=>{xe(O._readableStreamController,oe),xe(L._readableStreamController,oe),(!g||!R)&&z(void 0)}),[O,L]}function ho(e){let t=Pe(e),i=!1,l=!1,m=!1,g=!1,R=!1,C,x,O,L,z;const X=B(A=>{z=A});function be(A){G(A._closedPromise,v=>{A===t&&(me(O._readableStreamController,v),me(L._readableStreamController,v),(!g||!R)&&z(void 0))})}function rt(){De(t)&&(pe(t),t=Pe(e),be(t)),Ue(t,{_chunkSteps:v=>{Z(()=>{l=!1,m=!1;const V=v;let le=v;if(!g&&!R)try{le=an(v)}catch(nt){me(O._readableStreamController,nt),me(L._readableStreamController,nt),z(ye(e,nt));return}g||Mt(O._readableStreamController,V),R||Mt(L._readableStreamController,le),i=!1,l?Ce():m&&oe()})},_closeSteps:()=>{i=!1,g||ht(O._readableStreamController),R||ht(L._readableStreamController),O._readableStreamController._pendingPullIntos.length>0&&jt(O._readableStreamController,0),L._readableStreamController._pendingPullIntos.length>0&&jt(L._readableStreamController,0),(!g||!R)&&z(void 0)},_errorSteps:()=>{i=!1}})}function qe(A,v){te(t)&&(pe(t),t=yn(e),be(t));const V=v?L:O,le=v?O:L;wn(t,A,{_chunkSteps:it=>{Z(()=>{l=!1,m=!1;const ot=v?R:g;if(v?g:R)ot||Nt(V._readableStreamController,it);else{let ti;try{ti=an(it)}catch(Vr){me(V._readableStreamController,Vr),me(le._readableStreamController,Vr),z(ye(e,Vr));return}ot||Nt(V._readableStreamController,it),Mt(le._readableStreamController,ti)}i=!1,l?Ce():m&&oe()})},_closeSteps:it=>{i=!1;const ot=v?R:g,hr=v?g:R;ot||ht(V._readableStreamController),hr||ht(le._readableStreamController),it!==void 0&&(ot||Nt(V._readableStreamController,it),!hr&&le._readableStreamController._pendingPullIntos.length>0&&jt(le._readableStreamController,0)),(!ot||!hr)&&z(void 0)},_errorSteps:()=>{i=!1}})}function Ce(){if(i)return l=!0,S(void 0);i=!0;const A=Ir(O._readableStreamController);return A===null?rt():qe(A._view,!1),S(void 0)}function oe(){if(i)return m=!0,S(void 0);i=!0;const A=Ir(L._readableStreamController);return A===null?rt():qe(A._view,!0),S(void 0)}function ae(A){if(g=!0,C=A,R){const v=j([C,x]),V=ye(e,v);z(V)}return X}function de(A){if(R=!0,x=A,g){const v=j([C,x]),V=ye(e,v);z(V)}return X}function Te(){}return O=$n(Te,Ce,ae),L=$n(Te,oe,de),be(t),[O,L]}function po(e,t){re(e,t);const i=e,l=i?.autoAllocateChunkSize,m=i?.cancel,g=i?.pull,R=i?.start,C=i?.type;return{autoAllocateChunkSize:l===void 0?void 0:Qe(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:m===void 0?void 0:mo(m,i,`${t} has member 'cancel' that`),pull:g===void 0?void 0:yo(g,i,`${t} has member 'pull' that`),start:R===void 0?void 0:bo(R,i,`${t} has member 'start' that`),type:C===void 0?void 0:go(C,`${t} has member 'type' that`)}}function mo(e,t,i){return ne(e,i),l=>he(e,t,[l])}function yo(e,t,i){return ne(e,i),l=>he(e,t,[l])}function bo(e,t,i){return ne(e,i),l=>we(e,t,[l])}function go(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function wo(e,t){re(e,t);const i=e?.mode;return{mode:i===void 0?void 0:_o(i,`${t} has member 'mode' that`)}}function _o(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function So(e,t){re(e,t);const i=e?.preventCancel;return{preventCancel:Boolean(i)}}function Dn(e,t){re(e,t);const i=e?.preventAbort,l=e?.preventCancel,m=e?.preventClose,g=e?.signal;return g!==void 0&&Ro(g,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(m),signal:g}}function Ro(e,t){if(!Wi(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Eo(e,t){re(e,t);const i=e?.readable;_e(i,"readable","ReadableWritablePair"),ft(i,`${t} has member 'readable' that`);const l=e?.writable;return _e(l,"writable","ReadableWritablePair"),_n(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class ke{constructor(t={},i={}){t===void 0?t=null:Ut(t,"First parameter");const l=Yt(i,"Second parameter"),m=po(t,"First parameter");if(Hr(this),m.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");const g=yt(l,0);Bi(this,m,g)}else{const g=Vt(l),R=yt(l,1);lo(this,m,R,g)}}get locked(){if(!We(this))throw je("locked");return ve(this)}cancel(t=void 0){return We(this)?ve(this)?E(new TypeError("Cannot cancel a stream that already has a reader")):ye(this,t):E(je("cancel"))}getReader(t=void 0){if(!We(this))throw je("getReader");return wo(t,"First parameter").mode===void 0?Pe(this):yn(this)}pipeThrough(t,i={}){if(!We(this))throw je("pipeThrough");ce(t,1,"pipeThrough");const l=Eo(t,"First parameter"),m=Dn(i,"Second parameter");if(ve(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xe(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");const g=Un(this,l.writable,m.preventClose,m.preventAbort,m.preventCancel,m.signal);return W(g),l.readable}pipeTo(t,i={}){if(!We(this))return E(je("pipeTo"));if(t===void 0)return E("Parameter 1 is required in 'pipeTo'.");if(!Ze(t))return E(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=Dn(i,"Second parameter")}catch(m){return E(m)}return ve(this)?E(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xe(t)?E(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Un(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!We(this))throw je("tee");const t=fo(this);return j(t)}values(t=void 0){if(!We(this))throw je("values");const i=So(t,"First parameter");return h(this,i.preventCancel)}}Object.defineProperties(ke.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(ke.prototype,c.toStringTag,{value:"ReadableStream",configurable:!0}),typeof c.asyncIterator=="symbol"&&Object.defineProperty(ke.prototype,c.asyncIterator,{value:ke.prototype.values,writable:!0,configurable:!0});function Nr(e,t,i,l=1,m=()=>1){const g=Object.create(ke.prototype);Hr(g);const R=Object.create(et.prototype);return zn(g,R,e,t,i,l,m),g}function $n(e,t,i){const l=Object.create(ke.prototype);Hr(l);const m=Object.create(Je.prototype);return mn(l,m,e,t,i,0,void 0),l}function Hr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function We(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof ke}function ve(e){return e._reader!==void 0}function ye(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return E(e._storedError);Rt(e);const i=e._reader;i!==void 0&&De(i)&&(i._readIntoRequests.forEach(m=>{m._closeSteps(void 0)}),i._readIntoRequests=new ue);const l=e._readableStreamController[Ve](t);return D(l,p)}function Rt(e){e._state="closed";const t=e._reader;t!==void 0&&(Wt(t),te(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new ue))}function Mn(e,t){e._state="errored",e._storedError=t;const i=e._reader;i!==void 0&&(ut(i,t),te(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new ue):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new ue))}function je(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function jn(e,t){re(e,t);const i=e?.highWaterMark;return _e(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Be(i)}}const Nn=e=>e.byteLength;try{Object.defineProperty(Nn,"name",{value:"size",configurable:!0})}catch{}class or{constructor(t){ce(t,1,"ByteLengthQueuingStrategy"),t=jn(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Vn(this))throw Hn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Vn(this))throw Hn("size");return Nn}}Object.defineProperties(or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(or.prototype,c.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Hn(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Vn(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof or}const Yn=()=>1;try{Object.defineProperty(Yn,"name",{value:"size",configurable:!0})}catch{}class ar{constructor(t){ce(t,1,"CountQueuingStrategy"),t=jn(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Gn(this))throw Qn("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Gn(this))throw Qn("size");return Yn}}Object.defineProperties(ar.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(ar.prototype,c.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Qn(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Gn(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof ar}function Bo(e,t){re(e,t);const i=e?.flush,l=e?.readableType,m=e?.start,g=e?.transform,R=e?.writableType;return{flush:i===void 0?void 0:Co(i,e,`${t} has member 'flush' that`),readableType:l,start:m===void 0?void 0:To(m,e,`${t} has member 'start' that`),transform:g===void 0?void 0:Ao(g,e,`${t} has member 'transform' that`),writableType:R}}function Co(e,t,i){return ne(e,i),l=>he(e,t,[l])}function To(e,t,i){return ne(e,i),l=>we(e,t,[l])}function Ao(e,t,i){return ne(e,i),(l,m)=>he(e,t,[l,m])}class sr{constructor(t={},i={},l={}){t===void 0&&(t=null);const m=Yt(i,"Second parameter"),g=Yt(l,"Third parameter"),R=Bo(t,"First parameter");if(R.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(R.writableType!==void 0)throw new RangeError("Invalid writableType specified");const C=yt(g,0),x=Vt(g),O=yt(m,1),L=Vt(m);let z;const X=B(be=>{z=be});Po(this,X,O,L,C,x),Fo(this,R),R.start!==void 0?z(R.start(this._transformStreamController)):z(void 0)}get readable(){if(!Jn(this))throw ei("readable");return this._readable}get writable(){if(!Jn(this))throw ei("writable");return this._writable}}Object.defineProperties(sr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,c.toStringTag,{value:"TransformStream",configurable:!0});function Po(e,t,i,l,m,g){function R(){return t}function C(X){return Wo(e,X)}function x(X){return vo(e,X)}function O(){return qo(e)}e._writable=Oi(R,C,O,x,i,l);function L(){return Oo(e)}function z(X){return lr(e,X),S(void 0)}e._readable=Nr(R,L,z,m,g),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,fr(e,!0),e._transformStreamController=void 0}function Jn(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof sr}function ur(e,t){xe(e._readable._readableStreamController,t),lr(e,t)}function lr(e,t){Zn(e._transformStreamController),Ur(e._writable._writableStreamController,t),e._backpressure&&fr(e,!1)}function fr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=B(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class Et{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!cr(this))throw dr("desiredSize");const t=this._controlledTransformStream._readable._readableStreamController;return jr(t)}enqueue(t=void 0){if(!cr(this))throw dr("enqueue");Xn(this,t)}error(t=void 0){if(!cr(this))throw dr("error");xo(this,t)}terminate(){if(!cr(this))throw dr("terminate");ko(this)}}Object.defineProperties(Et.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof c.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,c.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function cr(e){return!d(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Et}function Io(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function Fo(e,t){const i=Object.create(Et.prototype);let l=g=>{try{return Xn(i,g),S(void 0)}catch(R){return E(R)}},m=()=>S(void 0);t.transform!==void 0&&(l=g=>t.transform(g,i)),t.flush!==void 0&&(m=()=>t.flush(i)),Io(e,i,l,m)}function Zn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Xn(e,t){const i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!tt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{nr(l,t)}catch(g){throw lr(i,g),i._readable._storedError}uo(l)!==i._backpressure&&fr(i,!0)}function xo(e,t){ur(e._controlledTransformStream,t)}function Kn(e,t){const i=e._transformAlgorithm(t);return D(i,void 0,l=>{throw ur(e._controlledTransformStream,l),l})}function ko(e){const t=e._controlledTransformStream,i=t._readable._readableStreamController;St(i);const l=new TypeError("TransformStream terminated");lr(t,l)}function Wo(e,t){const i=e._transformStreamController;if(e._backpressure){const l=e._backpressureChangePromise;return D(l,()=>{const m=e._writable;if(m._state==="erroring")throw m._storedError;return Kn(i,t)})}return Kn(i,t)}function vo(e,t){return ur(e,t),S(void 0)}function qo(e){const t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return Zn(i),D(l,()=>{if(t._state==="errored")throw t._storedError;St(t._readableStreamController)},m=>{throw ur(e,m),t._storedError})}function Oo(e){return fr(e,!1),e._backpressureChangePromise}function dr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ei(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}u.ByteLengthQueuingStrategy=or,u.CountQueuingStrategy=ar,u.ReadableByteStreamController=Je,u.ReadableStream=ke,u.ReadableStreamBYOBReader=mt,u.ReadableStreamBYOBRequest=dt,u.ReadableStreamDefaultController=et,u.ReadableStreamDefaultReader=Oe,u.TransformStream=sr,u.TransformStreamDefaultController=Et,u.WritableStream=bt,u.WritableStreamDefaultController=Ke,u.WritableStreamDefaultWriter=gt,Object.defineProperty(u,"__esModule",{value:!0})})}(pr,pr.exports)),pr.exports}var Qr={},Bt={},ni;function Do(){if(ni)return Bt;ni=1,Bt.byteLength=d,Bt.toByteArray=T,Bt.fromByteArray=N;for(var f=[],a=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,_=c.length;p<_;++p)f[p]=c[p],a[c.charCodeAt(p)]=p;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function w(B){var S=B.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=B.indexOf("=");E===-1&&(E=S);var P=E===S?0:4-E%4;return[E,P]}function d(B){var S=w(B),E=S[0],P=S[1];return(E+P)*3/4-P}function I(B,S,E){return(S+E)*3/4-E}function T(B){var S,E=w(B),P=E[0],k=E[1],M=new u(I(B,P,k)),G=0,D=k>0?P-4:P,W;for(W=0;W<D;W+=4)S=a[B.charCodeAt(W)]<<18|a[B.charCodeAt(W+1)]<<12|a[B.charCodeAt(W+2)]<<6|a[B.charCodeAt(W+3)],M[G++]=S>>16&255,M[G++]=S>>8&255,M[G++]=S&255;return k===2&&(S=a[B.charCodeAt(W)]<<2|a[B.charCodeAt(W+1)]>>4,M[G++]=S&255),k===1&&(S=a[B.charCodeAt(W)]<<10|a[B.charCodeAt(W+1)]<<4|a[B.charCodeAt(W+2)]>>2,M[G++]=S>>8&255,M[G++]=S&255),M}function q(B){return f[B>>18&63]+f[B>>12&63]+f[B>>6&63]+f[B&63]}function $(B,S,E){for(var P,k=[],M=S;M<E;M+=3)P=(B[M]<<16&16711680)+(B[M+1]<<8&65280)+(B[M+2]&255),k.push(q(P));return k.join("")}function N(B){for(var S,E=B.length,P=E%3,k=[],M=16383,G=0,D=E-P;G<D;G+=M)k.push($(B,G,G+M>D?D:G+M));return P===1?(S=B[E-1],k.push(f[S>>2]+f[S<<4&63]+"==")):P===2&&(S=(B[E-2]<<8)+B[E-1],k.push(f[S>>10]+f[S>>4&63]+f[S<<2&63]+"=")),k.join("")}return Bt}var mr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ii;function $o(){return ii||(ii=1,mr.read=function(f,a,u,c,p){var _,w,d=p*8-c-1,I=(1<<d)-1,T=I>>1,q=-7,$=u?p-1:0,N=u?-1:1,B=f[a+$];for($+=N,_=B&(1<<-q)-1,B>>=-q,q+=d;q>0;_=_*256+f[a+$],$+=N,q-=8);for(w=_&(1<<-q)-1,_>>=-q,q+=c;q>0;w=w*256+f[a+$],$+=N,q-=8);if(_===0)_=1-T;else{if(_===I)return w?NaN:(B?-1:1)*(1/0);w=w+Math.pow(2,c),_=_-T}return(B?-1:1)*w*Math.pow(2,_-c)},mr.write=function(f,a,u,c,p,_){var w,d,I,T=_*8-p-1,q=(1<<T)-1,$=q>>1,N=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=c?0:_-1,S=c?1:-1,E=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,w=q):(w=Math.floor(Math.log(a)/Math.LN2),a*(I=Math.pow(2,-w))<1&&(w--,I*=2),w+$>=1?a+=N/I:a+=N*Math.pow(2,1-$),a*I>=2&&(w++,I/=2),w+$>=q?(d=0,w=q):w+$>=1?(d=(a*I-1)*Math.pow(2,p),w=w+$):(d=a*Math.pow(2,$-1)*Math.pow(2,p),w=0));p>=8;f[u+B]=d&255,B+=S,d/=256,p-=8);for(w=w<<p|d,T+=p;T>0;f[u+B]=w&255,B+=S,w/=256,T-=8);f[u+B-S]|=E*128}),mr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oi;function Mo(){return oi||(oi=1,function(f){const a=Do(),u=$o(),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=d,f.SlowBuffer=M,f.INSPECT_MAX_BYTES=50;const p=2147483647;f.kMaxLength=p,d.TYPED_ARRAY_SUPPORT=_(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _(){try{const o=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(o,r),o.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.byteOffset}});function w(o){if(o>p)throw new RangeError('The value "'+o+'" is invalid for option "size"');const r=new Uint8Array(o);return Object.setPrototypeOf(r,d.prototype),r}function d(o,r,n){if(typeof o=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return $(o)}return I(o,r,n)}d.poolSize=8192;function I(o,r,n){if(typeof o=="string")return N(o,r);if(ArrayBuffer.isView(o))return S(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(ie(o,ArrayBuffer)||o&&ie(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(o,SharedArrayBuffer)||o&&ie(o.buffer,SharedArrayBuffer)))return E(o,r,n);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const s=o.valueOf&&o.valueOf();if(s!=null&&s!==o)return d.from(s,r,n);const h=P(o);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return d.from(o[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}d.from=function(o,r,n){return I(o,r,n)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function T(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function q(o,r,n){return T(o),o<=0?w(o):r!==void 0?typeof n=="string"?w(o).fill(r,n):w(o).fill(r):w(o)}d.alloc=function(o,r,n){return q(o,r,n)};function $(o){return T(o),w(o<0?0:k(o)|0)}d.allocUnsafe=function(o){return $(o)},d.allocUnsafeSlow=function(o){return $(o)};function N(o,r){if((typeof r!="string"||r==="")&&(r="utf8"),!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const n=G(o,r)|0;let s=w(n);const h=s.write(o,r);return h!==n&&(s=s.slice(0,h)),s}function B(o){const r=o.length<0?0:k(o.length)|0,n=w(r);for(let s=0;s<r;s+=1)n[s]=o[s]&255;return n}function S(o){if(ie(o,Uint8Array)){const r=new Uint8Array(o);return E(r.buffer,r.byteOffset,r.byteLength)}return B(o)}function E(o,r,n){if(r<0||o.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');let s;return r===void 0&&n===void 0?s=new Uint8Array(o):n===void 0?s=new Uint8Array(o,r):s=new Uint8Array(o,r,n),Object.setPrototypeOf(s,d.prototype),s}function P(o){if(d.isBuffer(o)){const r=k(o.length)|0,n=w(r);return n.length===0||o.copy(n,0,0,r),n}if(o.length!==void 0)return typeof o.length!="number"||Ge(o.length)?w(0):B(o);if(o.type==="Buffer"&&Array.isArray(o.data))return B(o.data)}function k(o){if(o>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return o|0}function M(o){return+o!=o&&(o=0),d.alloc(+o)}d.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==d.prototype},d.compare=function(r,n){if(ie(r,Uint8Array)&&(r=d.from(r,r.offset,r.byteLength)),ie(n,Uint8Array)&&(n=d.from(n,n.offset,n.byteLength)),!d.isBuffer(r)||!d.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let s=r.length,h=n.length;for(let y=0,b=Math.min(s,h);y<b;++y)if(r[y]!==n[y]){s=r[y],h=n[y];break}return s<h?-1:h<s?1:0},d.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(r,n){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return d.alloc(0);let s;if(n===void 0)for(n=0,s=0;s<r.length;++s)n+=r[s].length;const h=d.allocUnsafe(n);let y=0;for(s=0;s<r.length;++s){let b=r[s];if(ie(b,Uint8Array))y+b.length>h.length?(d.isBuffer(b)||(b=d.from(b)),b.copy(h,y)):Uint8Array.prototype.set.call(h,b,y);else if(d.isBuffer(b))b.copy(h,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=b.length}return h};function G(o,r){if(d.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||ie(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);const n=o.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&n===0)return 0;let h=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Qe(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return ct(o).length;default:if(h)return s?-1:Qe(o).length;r=(""+r).toLowerCase(),h=!0}}d.byteLength=G;function D(o,r,n){let s=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,r>>>=0,n<=r))return"";for(o||(o="utf8");;)switch(o){case"hex":return Rr(this,r,n);case"utf8":case"utf-8":return Ee(this,r,n);case"ascii":return Sr(this,r,n);case"latin1":case"binary":return ut(this,r,n);case"base64":return pe(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),s=!0}}d.prototype._isBuffer=!0;function W(o,r,n){const s=o[r];o[r]=o[n],o[n]=s}d.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<r;n+=2)W(this,n,n+1);return this},d.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<r;n+=4)W(this,n,n+3),W(this,n+1,n+2);return this},d.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<r;n+=8)W(this,n,n+7),W(this,n+1,n+6),W(this,n+2,n+5),W(this,n+3,n+4);return this},d.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?Ee(this,0,r):D.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(r){if(!d.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:d.compare(this,r)===0},d.prototype.inspect=function(){let r="";const n=f.INSPECT_MAX_BYTES;return r=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(r+=" ... "),"<Buffer "+r+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(r,n,s,h,y){if(ie(r,Uint8Array)&&(r=d.from(r,r.offset,r.byteLength)),!d.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(n===void 0&&(n=0),s===void 0&&(s=r?r.length:0),h===void 0&&(h=0),y===void 0&&(y=this.length),n<0||s>r.length||h<0||y>this.length)throw new RangeError("out of range index");if(h>=y&&n>=s)return 0;if(h>=y)return-1;if(n>=s)return 1;if(n>>>=0,s>>>=0,h>>>=0,y>>>=0,this===r)return 0;let b=y-h,F=s-n;const j=Math.min(b,F),H=this.slice(h,y),Y=r.slice(n,s);for(let U=0;U<j;++U)if(H[U]!==Y[U]){b=H[U],F=Y[U];break}return b<F?-1:F<b?1:0};function Z(o,r,n,s,h){if(o.length===0)return-1;if(typeof n=="string"?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Ge(n)&&(n=h?0:o.length-1),n<0&&(n=o.length+n),n>=o.length){if(h)return-1;n=o.length-1}else if(n<0)if(h)n=0;else return-1;if(typeof r=="string"&&(r=d.from(r,s)),d.isBuffer(r))return r.length===0?-1:we(o,r,n,s,h);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(o,r,n):Uint8Array.prototype.lastIndexOf.call(o,r,n):we(o,[r],n,s,h);throw new TypeError("val must be string, number or Buffer")}function we(o,r,n,s,h){let y=1,b=o.length,F=r.length;if(s!==void 0&&(s=String(s).toLowerCase(),s==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(o.length<2||r.length<2)return-1;y=2,b/=2,F/=2,n/=2}function j(Y,U){return y===1?Y[U]:Y.readUInt16BE(U*y)}let H;if(h){let Y=-1;for(H=n;H<b;H++)if(j(o,H)===j(r,Y===-1?0:H-Y)){if(Y===-1&&(Y=H),H-Y+1===F)return Y*y}else Y!==-1&&(H-=H-Y),Y=-1}else for(n+F>b&&(n=b-F),H=n;H>=0;H--){let Y=!0;for(let U=0;U<F;U++)if(j(o,H+U)!==j(r,U)){Y=!1;break}if(Y)return H}return-1}d.prototype.includes=function(r,n,s){return this.indexOf(r,n,s)!==-1},d.prototype.indexOf=function(r,n,s){return Z(this,r,n,s,!0)},d.prototype.lastIndexOf=function(r,n,s){return Z(this,r,n,s,!1)};function he(o,r,n,s){n=Number(n)||0;const h=o.length-n;s?(s=Number(s),s>h&&(s=h)):s=h;const y=r.length;s>y/2&&(s=y/2);let b;for(b=0;b<s;++b){const F=parseInt(r.substr(b*2,2),16);if(Ge(F))return b;o[n+b]=F}return b}function Ft(o,r,n,s){return Ie(Qe(r,o.length-n),o,n,s)}function ue(o,r,n,s){return Ie(ft(r),o,n,s)}function xt(o,r,n,s){return Ie(ct(r),o,n,s)}function st(o,r,n,s){return Ie(Pe(r,o.length-n),o,n,s)}d.prototype.write=function(r,n,s,h){if(n===void 0)h="utf8",s=this.length,n=0;else if(s===void 0&&typeof n=="string")h=n,s=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(s)?(s=s>>>0,h===void 0&&(h="utf8")):(h=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const y=this.length-n;if((s===void 0||s>y)&&(s=y),r.length>0&&(s<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let b=!1;for(;;)switch(h){case"hex":return he(this,r,n,s);case"utf8":case"utf-8":return Ft(this,r,n,s);case"ascii":case"latin1":case"binary":return ue(this,r,n,s);case"base64":return xt(this,r,n,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,r,n,s);default:if(b)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),b=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(o,r,n){return r===0&&n===o.length?a.fromByteArray(o):a.fromByteArray(o.slice(r,n))}function Ee(o,r,n){n=Math.min(o.length,n);const s=[];let h=r;for(;h<n;){const y=o[h];let b=null,F=y>239?4:y>223?3:y>191?2:1;if(h+F<=n){let j,H,Y,U;switch(F){case 1:y<128&&(b=y);break;case 2:j=o[h+1],(j&192)===128&&(U=(y&31)<<6|j&63,U>127&&(b=U));break;case 3:j=o[h+1],H=o[h+2],(j&192)===128&&(H&192)===128&&(U=(y&15)<<12|(j&63)<<6|H&63,U>2047&&(U<55296||U>57343)&&(b=U));break;case 4:j=o[h+1],H=o[h+2],Y=o[h+3],(j&192)===128&&(H&192)===128&&(Y&192)===128&&(U=(y&15)<<18|(j&63)<<12|(H&63)<<6|Y&63,U>65535&&U<1114112&&(b=U))}}b===null?(b=65533,F=1):b>65535&&(b-=65536,s.push(b>>>10&1023|55296),b=56320|b&1023),s.push(b),h+=F}return kt(s)}const He=4096;function kt(o){const r=o.length;if(r<=He)return String.fromCharCode.apply(String,o);let n="",s=0;for(;s<r;)n+=String.fromCharCode.apply(String,o.slice(s,s+=He));return n}function Sr(o,r,n){let s="";n=Math.min(o.length,n);for(let h=r;h<n;++h)s+=String.fromCharCode(o[h]&127);return s}function ut(o,r,n){let s="";n=Math.min(o.length,n);for(let h=r;h<n;++h)s+=String.fromCharCode(o[h]);return s}function Rr(o,r,n){const s=o.length;(!r||r<0)&&(r=0),(!n||n<0||n>s)&&(n=s);let h="";for(let y=r;y<n;++y)h+=Oe[o[y]];return h}function Wt(o,r,n){const s=o.slice(r,n);let h="";for(let y=0;y<s.length-1;y+=2)h+=String.fromCharCode(s[y]+s[y+1]*256);return h}d.prototype.slice=function(r,n){const s=this.length;r=~~r,n=n===void 0?s:~~n,r<0?(r+=s,r<0&&(r=0)):r>s&&(r=s),n<0?(n+=s,n<0&&(n=0)):n>s&&(n=s),n<r&&(n=r);const h=this.subarray(r,n);return Object.setPrototypeOf(h,d.prototype),h};function J(o,r,n){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+r>n)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(r,n,s){r=r>>>0,n=n>>>0,s||J(r,n,this.length);let h=this[r],y=1,b=0;for(;++b<n&&(y*=256);)h+=this[r+b]*y;return h},d.prototype.readUintBE=d.prototype.readUIntBE=function(r,n,s){r=r>>>0,n=n>>>0,s||J(r,n,this.length);let h=this[r+--n],y=1;for(;n>0&&(y*=256);)h+=this[r+--n]*y;return h},d.prototype.readUint8=d.prototype.readUInt8=function(r,n){return r=r>>>0,n||J(r,1,this.length),this[r]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(r,n){return r=r>>>0,n||J(r,2,this.length),this[r]|this[r+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(r,n){return r=r>>>0,n||J(r,2,this.length),this[r]<<8|this[r+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(r,n){return r=r>>>0,n||J(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(r,n){return r=r>>>0,n||J(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},d.prototype.readBigUInt64LE=te(function(r){r=r>>>0,_e(r,"offset");const n=this[r],s=this[r+7];(n===void 0||s===void 0)&&Be(r,this.length-8);const h=n+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,y=this[++r]+this[++r]*2**8+this[++r]*2**16+s*2**24;return BigInt(h)+(BigInt(y)<<BigInt(32))}),d.prototype.readBigUInt64BE=te(function(r){r=r>>>0,_e(r,"offset");const n=this[r],s=this[r+7];(n===void 0||s===void 0)&&Be(r,this.length-8);const h=n*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],y=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+s;return(BigInt(h)<<BigInt(32))+BigInt(y)}),d.prototype.readIntLE=function(r,n,s){r=r>>>0,n=n>>>0,s||J(r,n,this.length);let h=this[r],y=1,b=0;for(;++b<n&&(y*=256);)h+=this[r+b]*y;return y*=128,h>=y&&(h-=Math.pow(2,8*n)),h},d.prototype.readIntBE=function(r,n,s){r=r>>>0,n=n>>>0,s||J(r,n,this.length);let h=n,y=1,b=this[r+--h];for(;h>0&&(y*=256);)b+=this[r+--h]*y;return y*=128,b>=y&&(b-=Math.pow(2,8*n)),b},d.prototype.readInt8=function(r,n){return r=r>>>0,n||J(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},d.prototype.readInt16LE=function(r,n){r=r>>>0,n||J(r,2,this.length);const s=this[r]|this[r+1]<<8;return s&32768?s|4294901760:s},d.prototype.readInt16BE=function(r,n){r=r>>>0,n||J(r,2,this.length);const s=this[r+1]|this[r]<<8;return s&32768?s|4294901760:s},d.prototype.readInt32LE=function(r,n){return r=r>>>0,n||J(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},d.prototype.readInt32BE=function(r,n){return r=r>>>0,n||J(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},d.prototype.readBigInt64LE=te(function(r){r=r>>>0,_e(r,"offset");const n=this[r],s=this[r+7];(n===void 0||s===void 0)&&Be(r,this.length-8);const h=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(s<<24);return(BigInt(h)<<BigInt(32))+BigInt(n+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),d.prototype.readBigInt64BE=te(function(r){r=r>>>0,_e(r,"offset");const n=this[r],s=this[r+7];(n===void 0||s===void 0)&&Be(r,this.length-8);const h=(n<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(h)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+s)}),d.prototype.readFloatLE=function(r,n){return r=r>>>0,n||J(r,4,this.length),u.read(this,r,!0,23,4)},d.prototype.readFloatBE=function(r,n){return r=r>>>0,n||J(r,4,this.length),u.read(this,r,!1,23,4)},d.prototype.readDoubleLE=function(r,n){return r=r>>>0,n||J(r,8,this.length),u.read(this,r,!0,52,8)},d.prototype.readDoubleBE=function(r,n){return r=r>>>0,n||J(r,8,this.length),u.read(this,r,!1,52,8)};function ee(o,r,n,s,h,y){if(!d.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>h||r<y)throw new RangeError('"value" argument is out of bounds');if(n+s>o.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(r,n,s,h){if(r=+r,n=n>>>0,s=s>>>0,!h){const F=Math.pow(2,8*s)-1;ee(this,r,n,s,F,0)}let y=1,b=0;for(this[n]=r&255;++b<s&&(y*=256);)this[n+b]=r/y&255;return n+s},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(r,n,s,h){if(r=+r,n=n>>>0,s=s>>>0,!h){const F=Math.pow(2,8*s)-1;ee(this,r,n,s,F,0)}let y=s-1,b=1;for(this[n+y]=r&255;--y>=0&&(b*=256);)this[n+y]=r/b&255;return n+s},d.prototype.writeUint8=d.prototype.writeUInt8=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,1,255,0),this[n]=r&255,n+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,2,65535,0),this[n]=r&255,this[n+1]=r>>>8,n+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,2,65535,0),this[n]=r>>>8,this[n+1]=r&255,n+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,4,4294967295,0),this[n+3]=r>>>24,this[n+2]=r>>>16,this[n+1]=r>>>8,this[n]=r&255,n+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,4,4294967295,0),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255,n+4};function Ve(o,r,n,s,h){ce(r,s,h,o,n,7);let y=Number(r&BigInt(4294967295));o[n++]=y,y=y>>8,o[n++]=y,y=y>>8,o[n++]=y,y=y>>8,o[n++]=y;let b=Number(r>>BigInt(32)&BigInt(4294967295));return o[n++]=b,b=b>>8,o[n++]=b,b=b>>8,o[n++]=b,b=b>>8,o[n++]=b,n}function Ye(o,r,n,s,h){ce(r,s,h,o,n,7);let y=Number(r&BigInt(4294967295));o[n+7]=y,y=y>>8,o[n+6]=y,y=y>>8,o[n+5]=y,y=y>>8,o[n+4]=y;let b=Number(r>>BigInt(32)&BigInt(4294967295));return o[n+3]=b,b=b>>8,o[n+2]=b,b=b>>8,o[n+1]=b,b=b>>8,o[n]=b,n+8}d.prototype.writeBigUInt64LE=te(function(r,n=0){return Ve(this,r,n,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=te(function(r,n=0){return Ye(this,r,n,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(r,n,s,h){if(r=+r,n=n>>>0,!h){const j=Math.pow(2,8*s-1);ee(this,r,n,s,j-1,-j)}let y=0,b=1,F=0;for(this[n]=r&255;++y<s&&(b*=256);)r<0&&F===0&&this[n+y-1]!==0&&(F=1),this[n+y]=(r/b>>0)-F&255;return n+s},d.prototype.writeIntBE=function(r,n,s,h){if(r=+r,n=n>>>0,!h){const j=Math.pow(2,8*s-1);ee(this,r,n,s,j-1,-j)}let y=s-1,b=1,F=0;for(this[n+y]=r&255;--y>=0&&(b*=256);)r<0&&F===0&&this[n+y+1]!==0&&(F=1),this[n+y]=(r/b>>0)-F&255;return n+s},d.prototype.writeInt8=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,1,127,-128),r<0&&(r=255+r+1),this[n]=r&255,n+1},d.prototype.writeInt16LE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,2,32767,-32768),this[n]=r&255,this[n+1]=r>>>8,n+2},d.prototype.writeInt16BE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,2,32767,-32768),this[n]=r>>>8,this[n+1]=r&255,n+2},d.prototype.writeInt32LE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,4,2147483647,-2147483648),this[n]=r&255,this[n+1]=r>>>8,this[n+2]=r>>>16,this[n+3]=r>>>24,n+4},d.prototype.writeInt32BE=function(r,n,s){return r=+r,n=n>>>0,s||ee(this,r,n,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255,n+4},d.prototype.writeBigInt64LE=te(function(r,n=0){return Ve(this,r,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=te(function(r,n=0){return Ye(this,r,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function lt(o,r,n,s,h,y){if(n+s>o.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function vt(o,r,n,s,h){return r=+r,n=n>>>0,h||lt(o,r,n,4),u.write(o,r,n,s,23,4),n+4}d.prototype.writeFloatLE=function(r,n,s){return vt(this,r,n,!0,s)},d.prototype.writeFloatBE=function(r,n,s){return vt(this,r,n,!1,s)};function qt(o,r,n,s,h){return r=+r,n=n>>>0,h||lt(o,r,n,8),u.write(o,r,n,s,52,8),n+8}d.prototype.writeDoubleLE=function(r,n,s){return qt(this,r,n,!0,s)},d.prototype.writeDoubleBE=function(r,n,s){return qt(this,r,n,!1,s)},d.prototype.copy=function(r,n,s,h){if(!d.isBuffer(r))throw new TypeError("argument should be a Buffer");if(s||(s=0),!h&&h!==0&&(h=this.length),n>=r.length&&(n=r.length),n||(n=0),h>0&&h<s&&(h=s),h===s||r.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),r.length-n<h-s&&(h=r.length-n+s);const y=h-s;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,s,h):Uint8Array.prototype.set.call(r,this.subarray(s,h),n),y},d.prototype.fill=function(r,n,s,h){if(typeof r=="string"){if(typeof n=="string"?(h=n,n=0,s=this.length):typeof s=="string"&&(h=s,s=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!d.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(r.length===1){const b=r.charCodeAt(0);(h==="utf8"&&b<128||h==="latin1")&&(r=b)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(n<0||this.length<n||this.length<s)throw new RangeError("Out of range index");if(s<=n)return this;n=n>>>0,s=s===void 0?this.length:s>>>0,r||(r=0);let y;if(typeof r=="number")for(y=n;y<s;++y)this[y]=r;else{const b=d.isBuffer(r)?r:d.from(r,h),F=b.length;if(F===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(y=0;y<s-n;++y)this[y+n]=b[y%F]}return this};const re={};function ne(o,r,n){re[o]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(o,r){return`The "${o}" argument must be of type number. Received type ${typeof r}`},TypeError),ne("ERR_OUT_OF_RANGE",function(o,r,n){let s=`The value of "${o}" is out of range.`,h=n;return Number.isInteger(n)&&Math.abs(n)>2**32?h=Ot(String(n)):typeof n=="bigint"&&(h=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(h=Ot(h)),h+="n"),s+=` It must be ${r}. Received ${h}`,s},RangeError);function Ot(o){let r="",n=o.length;const s=o[0]==="-"?1:0;for(;n>=s+4;n-=3)r=`_${o.slice(n-3,n)}${r}`;return`${o.slice(0,n)}${r}`}function Ut(o,r,n){_e(r,"offset"),(o[r]===void 0||o[r+n]===void 0)&&Be(r,o.length-(n+1))}function ce(o,r,n,s,h,y){if(o>n||o<r){const b=typeof r=="bigint"?"n":"";let F;throw y>3?r===0||r===BigInt(0)?F=`>= 0${b} and < 2${b} ** ${(y+1)*8}${b}`:F=`>= -(2${b} ** ${(y+1)*8-1}${b}) and < 2 ** ${(y+1)*8-1}${b}`:F=`>= ${r}${b} and <= ${n}${b}`,new re.ERR_OUT_OF_RANGE("value",F,o)}Ut(s,h,y)}function _e(o,r){if(typeof o!="number")throw new re.ERR_INVALID_ARG_TYPE(r,"number",o)}function Be(o,r,n){throw Math.floor(o)!==o?(_e(o,n),new re.ERR_OUT_OF_RANGE(n||"offset","an integer",o)):r<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${r}`,o)}const Lt=/[^+/0-9A-Za-z-_]/g;function Er(o){if(o=o.split("=")[0],o=o.trim().replace(Lt,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function Qe(o,r){r=r||1/0;let n;const s=o.length;let h=null;const y=[];for(let b=0;b<s;++b){if(n=o.charCodeAt(b),n>55295&&n<57344){if(!h){if(n>56319){(r-=3)>-1&&y.push(239,191,189);continue}else if(b+1===s){(r-=3)>-1&&y.push(239,191,189);continue}h=n;continue}if(n<56320){(r-=3)>-1&&y.push(239,191,189),h=n;continue}n=(h-55296<<10|n-56320)+65536}else h&&(r-=3)>-1&&y.push(239,191,189);if(h=null,n<128){if((r-=1)<0)break;y.push(n)}else if(n<2048){if((r-=2)<0)break;y.push(n>>6|192,n&63|128)}else if(n<65536){if((r-=3)<0)break;y.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((r-=4)<0)break;y.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return y}function ft(o){const r=[];for(let n=0;n<o.length;++n)r.push(o.charCodeAt(n)&255);return r}function Pe(o,r){let n,s,h;const y=[];for(let b=0;b<o.length&&!((r-=2)<0);++b)n=o.charCodeAt(b),s=n>>8,h=n%256,y.push(h),y.push(s);return y}function ct(o){return a.toByteArray(Er(o))}function Ie(o,r,n,s){let h;for(h=0;h<s&&!(h+n>=r.length||h>=o.length);++h)r[h+n]=o[h];return h}function ie(o,r){return o instanceof r||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===r.name}function Ge(o){return o!==o}const Oe=function(){const o="0123456789abcdef",r=new Array(256);for(let n=0;n<16;++n){const s=n*16;for(let h=0;h<16;++h)r[s+h]=o[n]+o[h]}return r}();function te(o){return typeof BigInt>"u"?Ue:o}function Ue(){throw new Error("BigInt not supported")}}(Qr)),Qr}const jo=65536;if(!globalThis.ReadableStream)try{const f=Xr,{emitWarning:a}=f;try{f.emitWarning=()=>{},Object.assign(globalThis,Xr),f.emitWarning=a}catch(u){throw f.emitWarning=a,u}}catch{Object.assign(globalThis,zo())}try{const{Blob:f}=Mo();f&&!f.prototype.stream&&(f.prototype.stream=function(u){let c=0;const p=this;return new ReadableStream({type:"bytes",async pull(_){const d=await p.slice(c,Math.min(p.size,c+jo)).arrayBuffer();c+=d.byteLength,_.enqueue(new Uint8Array(d)),c===p.size&&_.close()}})})}catch{}/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */const ai=65536;async function*Gr(f,a=!0){for(const u of f)if("stream"in u)yield*u.stream();else if(ArrayBuffer.isView(u))if(a){let c=u.byteOffset;const p=u.byteOffset+u.byteLength;for(;c!==p;){const _=Math.min(p-c,ai),w=u.buffer.slice(c,c+_);c+=w.byteLength,yield new Uint8Array(w)}}else yield u;else{let c=0,p=u;for(;c!==p.size;){const w=await p.slice(c,Math.min(p.size,c+ai)).arrayBuffer();c+=w.byteLength,yield new Uint8Array(w)}}}const fi=class Kr{#e=[];#t="";#r=0;#n="transparent";constructor(a=[],u={}){if(typeof a!="object"||a===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof a[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof u!="object"&&typeof u!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");u===null&&(u={});const c=new TextEncoder;for(const _ of a){let w;ArrayBuffer.isView(_)?w=new Uint8Array(_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength)):_ instanceof ArrayBuffer?w=new Uint8Array(_.slice(0)):_ instanceof Kr?w=_:w=c.encode(`${_}`),this.#r+=ArrayBuffer.isView(w)?w.byteLength:w.size,this.#e.push(w)}this.#n=`${u.endings===void 0?"transparent":u.endings}`;const p=u.type===void 0?"":String(u.type);this.#t=/^[\x20-\x7E]*$/.test(p)?p:""}get size(){return this.#r}get type(){return this.#t}async text(){const a=new TextDecoder;let u="";for await(const c of Gr(this.#e,!1))u+=a.decode(c,{stream:!0});return u+=a.decode(),u}async arrayBuffer(){const a=new Uint8Array(this.size);let u=0;for await(const c of Gr(this.#e,!1))a.set(c,u),u+=c.length;return a.buffer}stream(){const a=Gr(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(u){const c=await a.next();c.done?u.close():u.enqueue(c.value)},async cancel(){await a.return()}})}slice(a=0,u=this.size,c=""){const{size:p}=this;let _=a<0?Math.max(p+a,0):Math.min(a,p),w=u<0?Math.max(p+u,0):Math.min(u,p);const d=Math.max(w-_,0),I=this.#e,T=[];let q=0;for(const N of I){if(q>=d)break;const B=ArrayBuffer.isView(N)?N.byteLength:N.size;if(_&&B<=_)_-=B,w-=B;else{let S;ArrayBuffer.isView(N)?(S=N.subarray(_,Math.min(B,w)),q+=S.byteLength):(S=N.slice(_,Math.min(B,w)),q+=S.size),w-=B,T.push(S),_=0}}const $=new Kr([],{type:String(c).toLowerCase()});return $.#r=d,$.#e=T,$}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](a){return a&&typeof a=="object"&&typeof a.constructor=="function"&&(typeof a.stream=="function"||typeof a.arrayBuffer=="function")&&/^(Blob|File)$/.test(a[Symbol.toStringTag])}};Object.defineProperties(fi.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const No=fi,At=No,Ho=class extends At{#e=0;#t="";constructor(a,u,c={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(a,c),c===null&&(c={});const p=c.lastModified===void 0?Date.now():Number(c.lastModified);Number.isNaN(p)||(this.#e=p),this.#t=String(u)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](a){return!!a&&a instanceof At&&/^(File)$/.test(a[Symbol.toStringTag])}},Vo=Ho,ci=Vo;/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var{toStringTag:Tt,iterator:Yo,hasInstance:Qo}=Symbol,si=Math.random,Go="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ui=(f,a,u)=>(f+="",/^(Blob|File)$/.test(a&&a[Tt])?[(u=u!==void 0?u+"":a[Tt]=="File"?a.name:"blob",f),a.name!==u||a[Tt]=="blob"?new ci([a],u,a):a]:[f,a+""]),Jr=(f,a)=>(a?f:f.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ne=(f,a,u)=>{if(a.length<u)throw new TypeError(`Failed to execute '${f}' on 'FormData': ${u} arguments required, but only ${a.length} present.`)};const en=class{#e=[];constructor(...a){if(a.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Tt](){return"FormData"}[Yo](){return this.entries()}static[Qo](a){return a&&typeof a=="object"&&a[Tt]==="FormData"&&!Go.some(u=>typeof a[u]!="function")}append(...a){Ne("append",arguments,2),this.#e.push(ui(...a))}delete(a){Ne("delete",arguments,1),a+="",this.#e=this.#e.filter(([u])=>u!==a)}get(a){Ne("get",arguments,1),a+="";for(var u=this.#e,c=u.length,p=0;p<c;p++)if(u[p][0]===a)return u[p][1];return null}getAll(a,u){return Ne("getAll",arguments,1),u=[],a+="",this.#e.forEach(c=>c[0]===a&&u.push(c[1])),u}has(a){return Ne("has",arguments,1),a+="",this.#e.some(u=>u[0]===a)}forEach(a,u){Ne("forEach",arguments,1);for(var[c,p]of this)a.call(u,p,c,this)}set(...a){Ne("set",arguments,2);var u=[],c=!0;a=ui(...a),this.#e.forEach(p=>{p[0]===a[0]?c&&(c=!u.push(a)):u.push(p)}),c&&u.push(a),this.#e=u}*entries(){yield*this.#e}*keys(){for(var[a]of this)yield a}*values(){for(var[,a]of this)yield a}};function Jo(f,a=At){var u=`${si()}${si()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),c=[],p=`--${u}\r
Content-Disposition: form-data; name="`;return f.forEach((_,w)=>typeof _=="string"?c.push(p+Jr(w)+`"\r
\r
${_.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):c.push(p+Jr(w)+`"; filename="${Jr(_.name,1)}"\r
Content-Type: ${_.type||"application/octet-stream"}\r
\r
`,_,`\r
`)),c.push(`--${u}--`),new a(c,{type:"multipart/form-data; boundary="+u})}class wr extends Error{constructor(a,u){super(a),Error.captureStackTrace(this,this.constructor),this.type=u}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class Re extends wr{constructor(a,u,c){super(a,u),c&&(this.code=this.errno=c.code,this.erroredSysCall=c.syscall)}}const br=Symbol.toStringTag,di=f=>typeof f=="object"&&typeof f.append=="function"&&typeof f.delete=="function"&&typeof f.get=="function"&&typeof f.getAll=="function"&&typeof f.has=="function"&&typeof f.set=="function"&&typeof f.sort=="function"&&f[br]==="URLSearchParams",gr=f=>f&&typeof f=="object"&&typeof f.arrayBuffer=="function"&&typeof f.type=="string"&&typeof f.stream=="function"&&typeof f.constructor=="function"&&/^(Blob|File)$/.test(f[br]),Zo=f=>typeof f=="object"&&(f[br]==="AbortSignal"||f[br]==="EventTarget"),Xo=(f,a)=>{const u=new URL(a).hostname,c=new URL(f).hostname;return u===c||u.endsWith(`.${c}`)},Ko=(f,a)=>{const u=new URL(a).protocol,c=new URL(f).protocol;return u===c},ea=promisify(Q.pipeline),se=Symbol("Body internals");class Pt{constructor(a,{size:u=0}={}){let c=null;a===null?a=null:di(a)?a=Buffer.from(a.toString()):gr(a)||Buffer.isBuffer(a)||(types.isAnyArrayBuffer(a)?a=Buffer.from(a):ArrayBuffer.isView(a)?a=Buffer.from(a.buffer,a.byteOffset,a.byteLength):a instanceof Q||(a instanceof en?(a=Jo(a),c=a.type.split("=")[1]):a=Buffer.from(String(a))));let p=a;Buffer.isBuffer(a)?p=Q.Readable.from(a):gr(a)&&(p=Q.Readable.from(a.stream())),this[se]={body:a,stream:p,boundary:c,disturbed:!1,error:null},this.size=u,a instanceof Q&&a.on("error",_=>{const w=_ instanceof wr?_:new Re(`Invalid response body while trying to fetch ${this.url}: ${_.message}`,"system",_);this[se].error=w})}get body(){return this[se].stream}get bodyUsed(){return this[se].disturbed}async arrayBuffer(){const{buffer:a,byteOffset:u,byteLength:c}=await Zr(this);return a.slice(u,u+c)}async formData(){const a=this.headers.get("content-type");if(a.startsWith("application/x-www-form-urlencoded")){const c=new en,p=new URLSearchParams(await this.text());for(const[_,w]of p)c.append(_,w);return c}const{toFormData:u}=await Uo(()=>import("./multipart-parser.js"),["assets/multipart-parser.js","assets/__vite-browser-external.js","assets/index.js","assets/___vite-browser-external_commonjs-proxy.js"]);return u(this.body,a)}async blob(){const a=this.headers&&this.headers.get("content-type")||this[se].body&&this[se].body.type||"",u=await this.arrayBuffer();return new At([u],{type:a})}async json(){const a=await this.text();return JSON.parse(a)}async text(){const a=await Zr(this);return new TextDecoder().decode(a)}buffer(){return Zr(this)}}Pt.prototype.buffer=deprecate(Pt.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Pt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Zr(f){if(f[se].disturbed)throw new TypeError(`body used already for: ${f.url}`);if(f[se].disturbed=!0,f[se].error)throw f[se].error;const{body:a}=f;if(a===null||!(a instanceof Q))return Buffer.alloc(0);const u=[];let c=0;try{for await(const p of a){if(f.size>0&&c+p.length>f.size){const _=new Re(`content size at ${f.url} over limit: ${f.size}`,"max-size");throw a.destroy(_),_}c+=p.length,u.push(p)}}catch(p){throw p instanceof wr?p:new Re(`Invalid response body while trying to fetch ${f.url}: ${p.message}`,"system",p)}if(a.readableEnded===!0||a._readableState.ended===!0)try{return u.every(p=>typeof p=="string")?Buffer.from(u.join("")):Buffer.concat(u,c)}catch(p){throw new Re(`Could not create Buffer from response body for ${f.url}: ${p.message}`,"system",p)}else throw new Re(`Premature close of server response while trying to fetch ${f.url}`)}const rn=(f,a)=>{let u,c,{body:p}=f[se];if(f.bodyUsed)throw new Error("cannot clone body after it is used");return p instanceof Q&&typeof p.getBoundary!="function"&&(u=new PassThrough({highWaterMark:a}),c=new PassThrough({highWaterMark:a}),p.pipe(u),p.pipe(c),f[se].stream=u,p=c),p},ta=deprecate(f=>f.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),hi=(f,a)=>f===null?null:typeof f=="string"?"text/plain;charset=UTF-8":di(f)?"application/x-www-form-urlencoded;charset=UTF-8":gr(f)?f.type||null:Buffer.isBuffer(f)||types.isAnyArrayBuffer(f)||ArrayBuffer.isView(f)?null:f instanceof en?`multipart/form-data; boundary=${a[se].boundary}`:f&&typeof f.getBoundary=="function"?`multipart/form-data;boundary=${ta(f)}`:f instanceof Q?null:"text/plain;charset=UTF-8",ra=f=>{const{body:a}=f[se];return a===null?0:gr(a)?a.size:Buffer.isBuffer(a)?a.length:a&&typeof a.getLengthSync=="function"&&a.hasKnownLength&&a.hasKnownLength()?a.getLengthSync():null},na=async(f,{body:a})=>{a===null?f.end():await ea(a,f)},yr=typeof Q.validateHeaderName=="function"?Q.validateHeaderName:f=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(f)){const a=new TypeError(`Header name must be a valid HTTP token [${f}]`);throw Object.defineProperty(a,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),a}},tn=typeof Q.validateHeaderValue=="function"?Q.validateHeaderValue:(f,a)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(a)){const u=new TypeError(`Invalid character in header content ["${f}"]`);throw Object.defineProperty(u,"code",{value:"ERR_INVALID_CHAR"}),u}};class Ae extends URLSearchParams{constructor(a){let u=[];if(a instanceof Ae){const c=a.raw();for(const[p,_]of Object.entries(c))u.push(..._.map(w=>[p,w]))}else if(a!=null)if(typeof a=="object"&&!types.isBoxedPrimitive(a)){const c=a[Symbol.iterator];if(c==null)u.push(...Object.entries(a));else{if(typeof c!="function")throw new TypeError("Header pairs must be iterable");u=[...a].map(p=>{if(typeof p!="object"||types.isBoxedPrimitive(p))throw new TypeError("Each header pair must be an iterable object");return[...p]}).map(p=>{if(p.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...p]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return u=u.length>0?u.map(([c,p])=>(yr(c),tn(c,String(p)),[String(c).toLowerCase(),String(p)])):void 0,super(u),new Proxy(this,{get(c,p,_){switch(p){case"append":case"set":return(w,d)=>(yr(w),tn(w,String(d)),URLSearchParams.prototype[p].call(c,String(w).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return w=>(yr(w),URLSearchParams.prototype[p].call(c,String(w).toLowerCase()));case"keys":return()=>(c.sort(),new Set(URLSearchParams.prototype.keys.call(c)).keys());default:return Reflect.get(c,p,_)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(a){const u=this.getAll(a);if(u.length===0)return null;let c=u.join(", ");return/^content-encoding$/i.test(a)&&(c=c.toLowerCase()),c}forEach(a,u=void 0){for(const c of this.keys())Reflect.apply(a,u,[this.get(c),c,this])}*values(){for(const a of this.keys())yield this.get(a)}*entries(){for(const a of this.keys())yield[a,this.get(a)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((a,u)=>(a[u]=this.getAll(u),a),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((a,u)=>{const c=this.getAll(u);return u==="host"?a[u]=c[0]:a[u]=c.length>1?c:c[0],a},{})}}Object.defineProperties(Ae.prototype,["get","entries","forEach","values"].reduce((f,a)=>(f[a]={enumerable:!0},f),{}));function ia(f=[]){return new Ae(f.reduce((a,u,c,p)=>(c%2===0&&a.push(p.slice(c,c+2)),a),[]).filter(([a,u])=>{try{return yr(a),tn(a,String(u)),!0}catch{return!1}}))}const oa=new Set([301,302,303,307,308]),pi=f=>oa.has(f),ge=Symbol("Response internals");class fe extends Pt{constructor(a=null,u={}){super(a,u);const c=u.status!=null?u.status:200,p=new Ae(u.headers);if(a!==null&&!p.has("Content-Type")){const _=hi(a,this);_&&p.append("Content-Type",_)}this[ge]={type:"default",url:u.url,status:c,statusText:u.statusText||"",headers:p,counter:u.counter,highWaterMark:u.highWaterMark}}get type(){return this[ge].type}get url(){return this[ge].url||""}get status(){return this[ge].status}get ok(){return this[ge].status>=200&&this[ge].status<300}get redirected(){return this[ge].counter>0}get statusText(){return this[ge].statusText}get headers(){return this[ge].headers}get highWaterMark(){return this[ge].highWaterMark}clone(){return new fe(rn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(a,u=302){if(!pi(u))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new fe(null,{headers:{location:new URL(a).toString()},status:u})}static error(){const a=new fe(null,{status:0,statusText:""});return a[ge].type="error",a}static json(a=void 0,u={}){const c=JSON.stringify(a);if(c===void 0)throw new TypeError("data is not JSON serializable");const p=new Ae(u&&u.headers);return p.has("content-type")||p.set("content-type","application/json"),new fe(c,{...u,headers:p})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(fe.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const aa=f=>{if(f.search)return f.search;const a=f.href.length-1,u=f.hash||(f.href[a]==="#"?"#":"");return f.href[a-u.length]==="?"?"?":""};function li(f,a=!1){return f==null||(f=new URL(f),/^(about|blob|data):$/.test(f.protocol))?"no-referrer":(f.username="",f.password="",f.hash="",a&&(f.pathname="",f.search=""),f)}const mi=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),sa="strict-origin-when-cross-origin";function ua(f){if(!mi.has(f))throw new TypeError(`Invalid referrerPolicy: ${f}`);return f}function la(f){if(/^(http|ws)s:$/.test(f.protocol))return!0;const a=f.host.replace(/(^\[)|(]$)/g,""),u=isIP(a);return u===4&&/^127\./.test(a)||u===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(a)?!0:f.host==="localhost"||f.host.endsWith(".localhost")?!1:f.protocol==="file:"}function at(f){return/^about:(blank|srcdoc)$/.test(f)||f.protocol==="data:"||/^(blob|filesystem):$/.test(f.protocol)?!0:la(f)}function fa(f,{referrerURLCallback:a,referrerOriginCallback:u}={}){if(f.referrer==="no-referrer"||f.referrerPolicy==="")return null;const c=f.referrerPolicy;if(f.referrer==="about:client")return"no-referrer";const p=f.referrer;let _=li(p),w=li(p,!0);_.toString().length>4096&&(_=w),a&&(_=a(_)),u&&(w=u(w));const d=new URL(f.url);switch(c){case"no-referrer":return"no-referrer";case"origin":return w;case"unsafe-url":return _;case"strict-origin":return at(_)&&!at(d)?"no-referrer":w.toString();case"strict-origin-when-cross-origin":return _.origin===d.origin?_:at(_)&&!at(d)?"no-referrer":w;case"same-origin":return _.origin===d.origin?_:"no-referrer";case"origin-when-cross-origin":return _.origin===d.origin?_:w;case"no-referrer-when-downgrade":return at(_)&&!at(d)?"no-referrer":_;default:throw new TypeError(`Invalid referrerPolicy: ${c}`)}}function ca(f){const a=(f.get("referrer-policy")||"").split(/[,\s]+/);let u="";for(const c of a)c&&mi.has(c)&&(u=c);return u}const K=Symbol("Request internals"),Ct=f=>typeof f=="object"&&typeof f[K]=="object",da=deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class It extends Pt{constructor(a,u={}){let c;if(Ct(a)?c=new URL(a.url):(c=new URL(a),a={}),c.username!==""||c.password!=="")throw new TypeError(`${c} is an url with embedded credentials.`);let p=u.method||a.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(p)&&(p=p.toUpperCase()),!Ct(u)&&"data"in u&&da(),(u.body!=null||Ct(a)&&a.body!==null)&&(p==="GET"||p==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");const _=u.body?u.body:Ct(a)&&a.body!==null?rn(a):null;super(_,{size:u.size||a.size||0});const w=new Ae(u.headers||a.headers||{});if(_!==null&&!w.has("Content-Type")){const T=hi(_,this);T&&w.set("Content-Type",T)}let d=Ct(a)?a.signal:null;if("signal"in u&&(d=u.signal),d!=null&&!Zo(d))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let I=u.referrer==null?a.referrer:u.referrer;if(I==="")I="no-referrer";else if(I){const T=new URL(I);I=/^about:(\/\/)?client$/.test(T)?"client":T}else I=void 0;this[K]={method:p,redirect:u.redirect||a.redirect||"follow",headers:w,parsedURL:c,signal:d,referrer:I},this.follow=u.follow===void 0?a.follow===void 0?20:a.follow:u.follow,this.compress=u.compress===void 0?a.compress===void 0?!0:a.compress:u.compress,this.counter=u.counter||a.counter||0,this.agent=u.agent||a.agent,this.highWaterMark=u.highWaterMark||a.highWaterMark||16384,this.insecureHTTPParser=u.insecureHTTPParser||a.insecureHTTPParser||!1,this.referrerPolicy=u.referrerPolicy||a.referrerPolicy||""}get method(){return this[K].method}get url(){return formatUrl(this[K].parsedURL)}get headers(){return this[K].headers}get redirect(){return this[K].redirect}get signal(){return this[K].signal}get referrer(){if(this[K].referrer==="no-referrer")return"";if(this[K].referrer==="client")return"about:client";if(this[K].referrer)return this[K].referrer.toString()}get referrerPolicy(){return this[K].referrerPolicy}set referrerPolicy(a){this[K].referrerPolicy=ua(a)}clone(){return new It(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(It.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const ha=f=>{const{parsedURL:a}=f[K],u=new Ae(f[K].headers);u.has("Accept")||u.set("Accept","*/*");let c=null;if(f.body===null&&/^(post|put)$/i.test(f.method)&&(c="0"),f.body!==null){const d=ra(f);typeof d=="number"&&!Number.isNaN(d)&&(c=String(d))}c&&u.set("Content-Length",c),f.referrerPolicy===""&&(f.referrerPolicy=sa),f.referrer&&f.referrer!=="no-referrer"?f[K].referrer=fa(f):f[K].referrer="no-referrer",f[K].referrer instanceof URL&&u.set("Referer",f.referrer),u.has("User-Agent")||u.set("User-Agent","node-fetch"),f.compress&&!u.has("Accept-Encoding")&&u.set("Accept-Encoding","gzip, deflate, br");let{agent:p}=f;typeof p=="function"&&(p=p(a)),!u.has("Connection")&&!p&&u.set("Connection","close");const _=aa(a),w={path:a.pathname+_,method:f.method,headers:u[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:f.insecureHTTPParser,agent:p};return{parsedURL:a,options:w}};class pa extends wr{constructor(a,u="aborted"){super(a,u)}}/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{const{MessageChannel:f}=Xr,a=new f().port1,u=new ArrayBuffer;a.postMessage(u,[u,u])}catch(f){f.constructor.name==="DOMException"&&(globalThis.DOMException=f.constructor)}var ma=globalThis.DOMException;const{stat:nn}=fs,Ca=(f,a)=>yi(statSync(f),f,a),Ta=(f,a)=>nn(f).then(u=>yi(u,f,a)),Aa=(f,a)=>nn(f).then(u=>bi(u,f,a)),Pa=(f,a)=>bi(statSync(f),f,a),yi=(f,a,u="")=>new At([new _r({path:a,size:f.size,lastModified:f.mtimeMs,start:0})],{type:u}),bi=(f,a,u="")=>new ci([new _r({path:a,size:f.size,lastModified:f.mtimeMs,start:0})],basename(a),{type:u,lastModified:f.mtimeMs});class _r{#e;#t;constructor(a){this.#e=a.path,this.#t=a.start,this.size=a.size,this.lastModified=a.lastModified}slice(a,u){return new _r({path:this.#e,lastModified:this.lastModified,size:u-a,start:this.#t+a})}async*stream(){const{mtimeMs:a}=await nn(this.#e);if(a>this.lastModified)throw new ma("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}const ya=new Set(["data:","http:","https:"]);async function ba(f,a){return new Promise((u,c)=>{const p=new It(f,a),{parsedURL:_,options:w}=ha(p);if(!ya.has(_.protocol))throw new TypeError(`node-fetch cannot load ${f}. URL scheme "${_.protocol.replace(/:$/,"")}" is not supported.`);if(_.protocol==="data:"){const S=Lo(p.url),E=new fe(S,{headers:{"Content-Type":S.typeFull}});u(E);return}const d=(_.protocol==="https:"?Q:Q).request,{signal:I}=p;let T=null;const q=()=>{const S=new pa("The operation was aborted.");c(S),p.body&&p.body instanceof Q.Readable&&p.body.destroy(S),!(!T||!T.body)&&T.body.emit("error",S)};if(I&&I.aborted){q();return}const $=()=>{q(),B()},N=d(_.toString(),w);I&&I.addEventListener("abort",$);const B=()=>{N.abort(),I&&I.removeEventListener("abort",$)};N.on("error",S=>{c(new Re(`request to ${p.url} failed, reason: ${S.message}`,"system",S)),B()}),ga(N,S=>{T&&T.body&&T.body.destroy(S)}),process.version<"v14"&&N.on("socket",S=>{let E;S.prependListener("end",()=>{E=S._eventsCount}),S.prependListener("close",P=>{if(T&&E<S._eventsCount&&!P){const k=new Error("Premature close");k.code="ERR_STREAM_PREMATURE_CLOSE",T.body.emit("error",k)}})}),N.on("response",S=>{N.setTimeout(0);const E=ia(S.rawHeaders);if(pi(S.statusCode)){const D=E.get("Location");let W=null;try{W=D===null?null:new URL(D,p.url)}catch{if(p.redirect!=="manual"){c(new Re(`uri requested responds with an invalid redirect URL: ${D}`,"invalid-redirect")),B();return}}switch(p.redirect){case"error":c(new Re(`uri requested responds with a redirect, redirect mode is set to error: ${p.url}`,"no-redirect")),B();return;case"manual":break;case"follow":{if(W===null)break;if(p.counter>=p.follow){c(new Re(`maximum redirect reached at: ${p.url}`,"max-redirect")),B();return}const Z={headers:new Ae(p.headers),follow:p.follow,counter:p.counter+1,agent:p.agent,compress:p.compress,method:p.method,body:rn(p),signal:p.signal,size:p.size,referrer:p.referrer,referrerPolicy:p.referrerPolicy};if(!Xo(p.url,W)||!Ko(p.url,W))for(const he of["authorization","www-authenticate","cookie","cookie2"])Z.headers.delete(he);if(S.statusCode!==303&&p.body&&a.body instanceof Q.Readable){c(new Re("Cannot follow redirect with body being a readable stream","unsupported-redirect")),B();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&p.method==="POST")&&(Z.method="GET",Z.body=void 0,Z.headers.delete("content-length"));const we=ca(E);we&&(Z.referrerPolicy=we),u(ba(new It(W,Z))),B();return}default:return c(new TypeError(`Redirect option '${p.redirect}' is not a valid value of RequestRedirect`))}}I&&S.once("end",()=>{I.removeEventListener("abort",$)});let P=pump(S,new PassThrough,D=>{D&&c(D)});process.version<"v12.10"&&S.on("aborted",$);const k={url:p.url,status:S.statusCode,statusText:S.statusMessage,headers:E,size:p.size,counter:p.counter,highWaterMark:p.highWaterMark},M=E.get("Content-Encoding");if(!p.compress||p.method==="HEAD"||M===null||S.statusCode===204||S.statusCode===304){T=new fe(P,k),u(T);return}const G={flush:Q.Z_SYNC_FLUSH,finishFlush:Q.Z_SYNC_FLUSH};if(M==="gzip"||M==="x-gzip"){P=pump(P,Q.createGunzip(G),D=>{D&&c(D)}),T=new fe(P,k),u(T);return}if(M==="deflate"||M==="x-deflate"){const D=pump(S,new PassThrough,W=>{W&&c(W)});D.once("data",W=>{(W[0]&15)===8?P=pump(P,Q.createInflate(),Z=>{Z&&c(Z)}):P=pump(P,Q.createInflateRaw(),Z=>{Z&&c(Z)}),T=new fe(P,k),u(T)}),D.once("end",()=>{T||(T=new fe(P,k),u(T))});return}if(M==="br"){P=pump(P,Q.createBrotliDecompress(),D=>{D&&c(D)}),T=new fe(P,k),u(T);return}T=new fe(P,k),u(T)}),na(N,p).catch(c)})}function ga(f,a){const u=Buffer.from(`0\r
\r
`);let c=!1,p=!1,_;f.on("response",w=>{const{headers:d}=w;c=d["transfer-encoding"]==="chunked"&&!d["content-length"]}),f.on("socket",w=>{const d=()=>{if(c&&!p){const T=new Error("Premature close");T.code="ERR_STREAM_PREMATURE_CLOSE",a(T)}},I=T=>{p=Buffer.compare(T.slice(-5),u)===0,!p&&_&&(p=Buffer.compare(_.slice(-3),u.slice(0,3))===0&&Buffer.compare(T.slice(-2),u.slice(3))===0),_=T};w.prependListener("close",d),w.on("data",I),f.on("close",()=>{w.removeListener("close",d),w.removeListener("data",I)})})}export{pa as AbortError,At as Blob,Re as FetchError,ci as File,en as FormData,Ae as Headers,It as Request,fe as Response,Ta as blobFrom,Ca as blobFromSync,ba as default,Aa as fileFrom,Pa as fileFromSync,pi as isRedirect};
//# sourceMappingURL=index2.js.map
